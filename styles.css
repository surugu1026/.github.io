
/* ===== ベース ===== */
:root {
  --bg: #f3f7fb;
  --text: #111;
  --ground: #4a7a2f;
  --sky1: #9dd6ff;
  --sky2: #c8e9ff;
  --brick: #c46a2f;
  --coin: #ffd84a;
  --enemy: #e63946;
  --player: #2f7ac4;
  --goal: #222;
}
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  color: var(--text);
  background: linear-gradient(180deg, var(--sky1), var(--sky2));
  font-family: "Noto Sans JP", system-ui, -apple-system, Segoe UI, Roboto,
               "Hiragino Kaku Gothic ProN","Yu Gothic", sans-serif;
}

/* ===== ヘッダー／ヒント ===== */
.game-header { padding: 10px 14px; }
.title { margin: 0; font-size: clamp(18px, 3.4vw, 28px); }
.hint  { margin: 4px 0 8px; font-size: clamp(12px, 2.4vw, 16px); }

/* ===== ゲームラップ／キャンバス ===== */
.game-wrap {
  display: flex; align-items: center; justify-content: center;
  padding: 8px 12px 24px;
}
#gameCanvas {
  width: min(96vw, 960px);
  height: auto;
  border: 2px solid #000;
  border-radius: 8px;
  background: transparent;
  box-shadow: 0 8px 24px rgba(0,0,0,.25);
}

/* ===== ゴール演出（オーバーレイ） ===== */
.goal-overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,.55);
  display: flex; align-items: center; justify-content: center;
  z-index: 9999;
}
.goal-content { text-align: center; }
.goal-img {
  width: min(60vw, 480px);
  filter: drop-shadow(0 8px 16px rgba(0,0,0,.45));
}
.goal-msg {
  margin-top: 12px;
  font-size: clamp(18px, 4vw, 32px);
  font-weight: 800;
  color: #fff;
  text-shadow: 0 2px 6px rgba(0,0,0,.6);
}

/* ===== アニメーション ===== */
@keyframes zoomBounce {
  0% { transform: scale(0.2); opacity: 0; }
  60% { transform: scale(1.15); opacity: 1; }
  80% { transform: scale(0.95); }
  100% { transform: scale(1); }
}
.flashy { animation: zoomBounce 900ms ease-out forwards; }

@keyframes shake {
  0%,100% { transform: translateX(0); }
  20%     { transform: translateX(-6px); }
  40%     { transform: translateX(6px); }
  60%     { transform: translateX(-4px); }
  80%     { transform: translateX(4px); }
}
.shake { animation: shake 1200ms ease-in-out infinite; }

@keyframes popout {
  0% { transform: translateY(20px) scale(0.8); opacity: 0; }
  60% { transform: translateY(-8px) scale(1.1); opacity: 1; }
  100% { transform: translateY(0) scale(1); }
}
.pop { animation: popout 700ms ease-out forwards; }

/* ===== レスポンシブ微調整 ===== */
@media (max-width: 600px) {
  .hint { font-size: 12px; }
}
